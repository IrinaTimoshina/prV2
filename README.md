# pr
Этот проект представляет собой backend веб-приложение для управления файловым хранилищем. Приложение использует базу данных для хранения информации обо всех файлах в хранилище. Каждая запись в базе данных соответствует одному файлу в хранилище.

## Возможности

1. **Список всех файлов**: Получение списка информации обо всех файлах в хранилище.
2. **Получение информации о файле**: Получение информации о конкретном файле.
3. **Загрузка нового файла**: Загрузка нового файла в хранилище и создание соответствующей записи в базе данных.
4. **Удаление файла**: Удаление файла из хранилища и удаление соответствующей записи из базы данных.
5. **Обновление информации о файле**: Обновление редактируемой информации о файле (название, путь, комментарий) в базе данных. Изменения названия или пути также отражаются в хранилище.

## Модель бд

Каждая запись о файле в базе данных содержит следующую информацию:

1. **Название** (редактируемое) - Произвольная непустая строка без расширения.
2. **Расширение** (не редактируемое) - Строка, обозначающая расширение файла (например, `.txt`).
3. **Размер** (не редактируемое) - Целочисленное значение, представляющее размер файла в байтах.
4. **Путь** (редактируемое) - Строка, определяющая иерархическое расположение файла.
5. **Дата создания** (не редактируемое) - Строка в формате ISO с датой и временем создания.
6. **Дата изменения** (редактируемое) - Строка в формате ISO с датой и временем последнего обновления.
7. **Комментарий** (редактируемое) - Строка с комментарием к файлу.

- **GET /files/**: Получить список всех файлов.
- **GET /files/{file_name}**: Получить информацию о конкретном файле.
- **POST /files/**: Загрузить новый файл.
- **DELETE /files/{file_name}**: Удалить файл.
- **PATCH /files/{file_id}**: Обновить информацию о файле.


**Запуск проекта в PyCharm**
1. В терминале PyCharm пишем команду: pip install -r requirements.txt
2. запускаем main.py.
3. В терминале PyCharm пишем команду: uvicorn app.main:app --reload
4. Открываем браузер и переходим по адресу http://127.0.0.1:8000/docs для просмотра и взаимодествия.

## Взимодействие через cmd:
- **Загрузка файла:**
curl -X POST "http://127.0.0.1:8000/files/" -F "file=@path/to/your/file.txt" -F "comment=Ваш комментарий"
- **Получение списка файлов:**
curl -X GET "http://127.0.0.1:8000/files/" -H "accept: application/json"
- **Получение информации о конкретном файле:**
curl -X GET "http://127.0.0.1:8000/files/name" -H "accept: application/json"
- **Изменение информации о файле:**
curl -X PATCH "http://127.0.0.1:8000/files/1" -H "Content-Type: application/json" -d '{
    "name": "edit-file",
    "path": "./uploaded_files/new-path/",
    "comment": "edit comment"
}'
- **Удаление файла:**
curl -X DELETE "http://127.0.0.1:8000/files/name" -H "accept: application/json"
